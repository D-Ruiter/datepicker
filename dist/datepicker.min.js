/*!
 * Datepicker v0.2.1
 * https://github.com/fengyuanchen/datepicker
 *
 * Copyright (c) 2014-2015 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2015-12-18T12:40:55.895Z
 */
!function(t){"function"==typeof define&&define.amd?define("datepicker",["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function e(t){return"string"==typeof t}function i(t){return"number"==typeof t&&!isNaN(t)}function a(t){return"undefined"==typeof t}function s(t){return"object"!=typeof t||null===t?!1:"[object Date]"===N.call(t)}function n(t,e){var a=[];return i(e)&&a.push(e),a.slice.apply(t,a)}function r(t,e){var i=n(arguments,2);return function(){return t.apply(e,i.concat(n(arguments)))}}function h(t){return t%4===0&&t%100!==0||t%400===0}function o(t,e){return[31,h(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}function l(t){var e,i,a=t,s=a.match(x);if(!s||0===s.length)throw new Error("Invalid date format.");for(t={source:a,parts:s},e=s.length,i=0;e>i;i++)switch(s[i]){case"dd":case"d":t.hasDay=!0;break;case"mm":case"m":t.hasMonth=!0;break;case"yyyy":case"yy":t.hasYear=!0;break;case"h":case"hh":t.hasHours=!0;break;case"M":case"MM":t.hasMinutes=!0}return t}function d(e,i){this.$element=t(e),this.options=t.extend({},d.DEFAULTS,t.isPlainObject(i)&&i),this.isBuilt=!1,this.isShown=!1,this.isInput=!1,this.isInline=!1,this.initialValue="",this.initialDate=null,this.startDate=null,this.endDate=null,this.init()}var u=t(window),c=window.document,p=t(c),f="datepicker",m="click."+f,y="keyup."+f,w="focus."+f,v="resize."+f,g="show."+f,D="hide."+f,k="pick."+f,x=/y+|m+|d+|h+|M+/g,b=/\d+/g,$=/^\d{2,4}$/,M="datepicker-inline",I="datepicker-dropdown",C="datepicker-top-left",F="datepicker-top-right",S="datepicker-bottom-left",V="datepicker-bottom-right",T=[C,F,S,V].join(" "),P="datepicker-hide",Y=Number,A=Math.min,N=Object.prototype.toString;d.prototype={constructor:d,version:"0.2.1",init:function(){var e=this.options,i=this.$element,a=e.startDate,s=e.endDate,n=e.date;e.language&&t.extend(e,d.LANGUAGES[e.language]),this.$trigger=t(e.trigger||i),this.isInput=i.is("input")||i.is("textarea"),this.isInline=e.inline&&(e.container||!this.isInput),this.format=l(e.format),this.initialValue=this.getValue(),n=this.parseDate(n||this.initialValue),a&&(a=this.parseDate(a),n.getTime()<a.getTime()&&(n=new Date(a)),this.startDate=a),s&&(s=this.parseDate(s),a&&s.getTime()<a.getTime()&&(s=new Date(a)),n.getTime()>s.getTime()&&(n=new Date(s)),this.endDate=s),this.date=n,this.viewDate=new Date(n),this.initialDate=new Date(this.date),this.bind(),(e.autoshow||this.isInline)&&this.show(),e.autopick&&this.pick(),e.readonly?i.attr("readonly","readonly"):i.removeAttr("readonly")},build:function(){var e,i=this.options,a=this.$element;if(!this.isBuilt){this.isBuilt=!0,this.$picker=e=t(i.template),this.$week=e.find('[data-view="week"]'),this.$yearsPicker=e.find('[data-view="years picker"]'),this.$yearsPrev=e.find('[data-view="years prev"]'),this.$yearsNext=e.find('[data-view="years next"]'),this.$yearsCurrent=e.find('[data-view="years current"]'),this.$years=e.find('[data-view="years"]'),this.$monthsPicker=e.find('[data-view="months picker"]'),this.$yearPrev=e.find('[data-view="year prev"]'),this.$yearNext=e.find('[data-view="year next"]'),this.$yearCurrent=e.find('[data-view="year current"]'),this.$months=e.find('[data-view="months"]'),this.$daysPicker=e.find('[data-view="days picker"]'),this.$monthPrev=e.find('[data-view="month prev"]'),this.$monthNext=e.find('[data-view="month next"]'),this.$monthCurrent=e.find('[data-view="month current"]'),this.$days=e.find('[data-view="days"]'),this.isInline?t(i.container||a).append(e.addClass(M)):(t(c.body).append(e.addClass(I)),e.addClass(P)),this.fillWeek();var s=this.$daysPicker.find("[data-hours]"),n=this.$daysPicker.find("[data-minutes]"),r={min:parseInt(s.attr("min"),10),max:parseInt(s.attr("max"),10)},h={min:parseInt(n.attr("min"),10),max:parseInt(n.attr("max"),10)},o=this;s.on("change",function(e){e.preventDefault();var i=t(this),a=parseInt(i.val(),10);a>r.max&&(a=r.max),a<r.min&&(a=r.min),10>a&&(a="0"+a),i.val(a),o.date.setHours(parseInt(a,10)),o.viewDate.setHours(parseInt(a,10)),o.setValue(o.formatDate(o.viewDate)),o.update()}),n.on("change",function(e){e.preventDefault();var i=t(this),a=parseInt(i.val(),10);a>h.max&&(a=h.max),a<h.min&&(a=h.min),10>a&&(a="0"+a),i.val(a),o.date.setMinutes(parseInt(a,10)),o.viewDate.setMinutes(parseInt(a,10)),o.setValue(o.formatDate(o.viewDate)),o.update()})}},unbuild:function(){this.isBuilt&&(this.isBuilt=!1,this.$picker.remove())},bind:function(){var e=this.options,i=this.$element;t.isFunction(e.show)&&i.on(g,e.show),t.isFunction(e.hide)&&i.on(D,e.hide),t.isFunction(e.pick)&&i.on(k,e.pick),this.isInput&&(i.on(y,t.proxy(this.keyup,this)),e.trigger||i.on(w,t.proxy(this.show,this))),this.$trigger.on(m,t.proxy(this.show,this))},unbind:function(){var e=this.options,i=this.$element;t.isFunction(e.show)&&i.off(g,e.show),t.isFunction(e.hide)&&i.off(D,e.hide),t.isFunction(e.pick)&&i.off(k,e.pick),this.isInput&&(i.off(y,this.keyup),e.trigger||i.off(w,this.show)),this.$trigger.off(m,this.show)},showView:function(t){var e=this.$yearsPicker,i=this.$monthsPicker,a=this.$daysPicker,s=a.find("div[data-time-wrapper]"),n=this.format;if(n.hasYear||n.hasMonth||n.hasDay)switch(Y(t)){case 2:case"years":i.addClass(P),a.addClass(P),n.hasYear?(this.fillYears(),e.removeClass(P)):this.showView(0);break;case 1:case"months":e.addClass(P),a.addClass(P),n.hasMonth?(this.fillMonths(),i.removeClass(P)):this.showView(2);break;default:e.addClass(P),i.addClass(P),n.hasHours?s.removeClass(P):s.addClass(P),n.hasDay?(this.fillDays(),a.removeClass(P)):this.showView(1)}},hideView:function(){this.options.autohide&&this.hide()},place:function(){var t=this.options,e=this.$element,i=this.$picker,a=p.outerWidth(),s=p.outerHeight(),n=e.outerWidth(),r=e.outerHeight(),h=i.width(),o=i.height(),l=e.offset(),d=l.left,u=l.top,c=parseFloat(t.offset)||10,f=C;u>o&&u+r+o>s?(u-=o+c,f=S):u+=r+c,d+h>a&&(d=d+n-h,f=f.replace("left","right")),i.removeClass(T).addClass(f).css({top:u,left:d,zIndex:parseInt(t.zIndex,10)})},trigger:function(e,i){var a=t.Event(e,i);return this.$element.trigger(a),a},createItem:function(e){var i=this.options,a=i.itemTag,s={text:"",view:"",muted:!1,picked:!1,disabled:!1};t.extend(s,e);var n=[];return s.disabled&&n.push(i.disabledClass),s.picked&&n.push(i.pickedClass),s.muted&&n.push(i.mutedClass),"<"+a+(n.length?' class="'+n.join(" ")+'"':"")+(s.view?' data-view="'+s.view+'"':"")+">"+s.text+"</"+a+">"},fillAll:function(){this.fillYears(),this.fillMonths(),this.fillDays()},fillWeek:function(){var e,i=this.options,a=parseInt(i.weekStart,10)%7,s=i.daysMin,n="";for(s=t.merge(s.slice(a),s.slice(0,a)),e=0;6>=e;e++)n+=this.createItem({text:s[e]});this.$week.html(n)},fillYears:function(){var e,i=this.options,a=i.disabledClass||"",s=i.yearSuffix||"",n=t.isFunction(i.filter)&&i.filter,r=this.startDate,h=this.endDate,o=this.viewDate,l=o.getFullYear(),d=o.getMonth(),u=o.getDate(),c=this.date,p=c.getFullYear(),f=!1,m=!1,y=!1,w=!1,v=!1,g="",D=-5,k=6;for(e=D;k>=e;e++)c=new Date(l+e,d,u),v=e===D||e===k,w=l+e===p,y=!1,r&&(y=c.getFullYear()<r.getFullYear(),e===D&&(f=y)),!y&&h&&(y=c.getFullYear()>h.getFullYear(),e===k&&(m=y)),!y&&n&&(y=n.call(this.$element,c)===!1),g+=this.createItem({text:l+e,view:y?"year disabled":w?"year picked":"year",muted:v,picked:w,disabled:y});this.$yearsPrev.toggleClass(a,f),this.$yearsNext.toggleClass(a,m),this.$yearsCurrent.toggleClass(a,!0).html(l+D+s+" - "+(l+k)+s),this.$years.html(g)},fillMonths:function(){var e,i=this.options,a=i.disabledClass||"",s=i.monthsShort,n=t.isFunction(i.filter)&&i.filter,r=this.startDate,h=this.endDate,o=this.viewDate,l=o.getFullYear(),d=o.getDate(),u=this.date,c=u.getFullYear(),p=u.getMonth(),f=!1,m=!1,y=!1,w=!1,v="";for(e=0;11>=e;e++)u=new Date(l,e,d),w=l===c&&e===p,y=!1,r&&(f=u.getFullYear()===r.getFullYear(),y=f&&u.getMonth()<r.getMonth()),!y&&h&&(m=u.getFullYear()===h.getFullYear(),y=m&&u.getMonth()>h.getMonth()),!y&&n&&(y=n.call(this.$element,u)===!1),v+=this.createItem({index:e,text:s[e],view:y?"month disabled":w?"month picked":"month",picked:w,disabled:y});this.$yearPrev.toggleClass(a,f),this.$yearNext.toggleClass(a,m),this.$yearCurrent.toggleClass(a,f&&m).html(l+i.yearSuffix||""),this.$months.html(v)},fillDays:function(){var e,i,a,s=this.options,n=s.disabledClass||"",r=s.yearSuffix||"",h=s.monthsShort,l=parseInt(s.weekStart,10)%7,d=t.isFunction(s.filter)&&s.filter,u=this.startDate,c=this.endDate,p=this.viewDate,f=p.getFullYear(),m=p.getMonth(),y=f,w=m,v=f,g=m,D=this.date,k=D.getFullYear(),x=D.getMonth(),b=D.getDate(),$=!1,M=!1,I=!1,C=!1,F=[],S=[],V=[],T=42;for(0===m?(y-=1,w=11):w-=1,e=o(y,w),D=new Date(f,m,1),a=D.getDay()-l,0>=a&&(a+=7),u&&($=D.getTime()<=u.getTime()),i=e-(a-1);e>=i;i++)D=new Date(y,w,i),I=!1,u&&(I=D.getTime()<u.getTime()),!I&&d&&(I=d.call(this.$element,D)===!1),F.push(this.createItem({text:i,view:"day prev",muted:!0,disabled:I}));for(11===m?(v+=1,v=0):g+=1,e=o(f,m),a=T-(F.length+e),D=new Date(f,m,e),c&&(M=D.getTime()>=c.getTime()),i=1;a>=i;i++)D=new Date(v,g,i),I=!1,c&&(I=D.getTime()>c.getTime()),!I&&d&&(I=d.call(this.$element,D)===!1),S.push(this.createItem({text:i,view:"day next",muted:!0,disabled:I}));for(i=1;e>=i;i++)D=new Date(f,m,i),C=f===k&&m===x&&i===b,I=!1,u&&(I=D.getTime()<u.getTime()),!I&&c&&(I=D.getTime()>c.getTime()),!I&&d&&(I=d.call(this.$element,D)===!1),V.push(this.createItem({text:i,view:I?"day disabled":C?"day picked":"day",picked:C,disabled:I}));this.$monthPrev.toggleClass(n,$),this.$monthNext.toggleClass(n,M),this.$monthCurrent.toggleClass(n,$&&M).html(s.yearFirst?f+r+" "+h[m]:h[m]+" "+f+r),this.$days.html(F.join("")+V.join(" ")+S.join(""))},click:function(e){var i,a,s,n,r,h,o,l,d=t(e.target),u=this.viewDate;if(e.stopPropagation(),e.preventDefault(),!d.hasClass("disabled"))switch(i=u.getFullYear(),a=u.getMonth(),s=u.getDate(),n=u.getHours()||0,r=u.getMinutes()||0,l=d.data("view")){case"years prev":case"years next":i="years prev"===l?i-10:i+10,o=d.text(),h=$.test(o),h&&(i=parseInt(o,10),this.date=new Date(i,a,A(s,28),n,r)),this.viewDate=new Date(i,a,A(s,28),n,r),this.fillYears(),h&&(this.showView(1),this.pick("year"));break;case"year prev":case"year next":i="year prev"===l?i-1:i+1,this.viewDate=new Date(i,a,A(s,28),n,r),this.fillMonths();break;case"year current":this.format.hasYear&&this.showView(2);break;case"year picked":this.format.hasMonth?this.showView(1):this.hideView();break;case"year":i=parseInt(d.text(),10),this.date=new Date(i,a,A(s,28),n,r),this.viewDate=new Date(i,a,A(s,28),n,r),this.format.hasMonth?this.showView(1):this.hideView(),this.pick("year");break;case"month prev":case"month next":a="month prev"===l?a-1:"month next"===l?a+1:a,this.viewDate=new Date(i,a,A(s,28),n,r),this.fillDays();break;case"month current":this.format.hasMonth&&this.showView(1);break;case"month picked":this.format.hasDay?this.showView(0):this.hideView();break;case"month":a=t.inArray(d.text(),this.options.monthsShort),this.date=new Date(i,a,A(s,28),n,r),this.viewDate=new Date(i,a,A(s,28),n,r),this.format.hasDay?this.showView(0):this.hideView(),this.pick("month");break;case"day prev":case"day next":case"day":a="day prev"===l?a-1:"day next"===l?a+1:a,s=parseInt(d.text(),10),n=parseInt(this.$daysPicker.find("input[data-hours]").val(),10)||0,r=parseInt(this.$daysPicker.find("input[data-minutes]").val(),10)||0,this.date=new Date(i,a,s,n,r),this.viewDate=new Date(i,a,s,n,r),this.fillDays(),"day"===l&&this.hideView(),this.pick("day");break;case"day picked":a="day prev"===l?a-1:"day next"===l?a+1:a,s=parseInt(d.text(),10),n=parseInt(this.$daysPicker.find("input[data-hours]").val(),10)||0,r=parseInt(this.$daysPicker.find("input[data-minutes]").val(),10)||0,this.date=new Date(i,a,s,n,r),this.viewDate=new Date(i,a,s,n,r),this.hideView(),this.pick("day")}},clickDoc:function(t){for(var e,i=t.target,a=this.$trigger[0];i!==c;){if(i===a){e=!0;break}i=i.parentNode}e||this.hide()},keyup:function(){this.update()},getValue:function(){var t=this.$element,e="";return this.isInput?e=t.val():this.isInline?this.options.container&&(e=t.text()):e=t.text(),e},setValue:function(t){var i=this.$element;t=e(t)?t:"",this.isInput?i.val(t):this.isInline?this.options.container&&i.text(t):i.text(t)},show:function(){this.isBuilt||this.build(),this.isShown||this.trigger(g).isDefaultPrevented()||(this.isShown=!0,this.$picker.removeClass(P).on(m,t.proxy(this.click,this)),this.showView(this.options.startView),this.isInline||(u.on(v,this._place=r(this.place,this)),p.on(m,this._clickDoc=r(this.clickDoc,this)),this.place()))},hide:function(){this.isShown&&(this.trigger(D).isDefaultPrevented()||(this.isShown=!1,this.$picker.addClass(P).off(m,this.click),this.isInline||(u.off(v,this._place),p.off(m,this._clickDoc))))},update:function(){this.setDate(this.getValue(),!0);var e=this.viewDate.getHours(),i=this.viewDate.getMinutes();t("input[data-hours]").val(10>e?"0"+e:e),t("input[data-minutes]").val(10>i?"0"+i:i)},pick:function(t){var e=this.$element,i=this.date;this.trigger(k,{view:t||"",date:i}).isDefaultPrevented()||(this.setValue(i=this.formatDate(this.date)),this.isInput&&e.trigger("change"))},reset:function(){this.setDate(this.initialDate,!0),this.setValue(this.initialValue),this.isShown&&this.showView(this.options.startView)},getMonthName:function(e,s){var n=this.options,r=n.months;return t.isNumeric(e)?e=Y(e):a(s)&&(s=e),s===!0&&(r=n.monthsShort),r[i(e)?e:this.date.getMonth()]},getDayName:function(e,s,n){var r=this.options,h=r.days;return t.isNumeric(e)?e=Y(e):(a(n)&&(n=s),a(s)&&(s=e)),h=n===!0?r.daysMin:s===!0?r.daysShort:h,h[i(e)?e:this.date.getDay()]},getDate:function(t){var e=this.date;return t?this.formatDate(e):new Date(e)},setDate:function(i,a){var n=this.options.filter;if(s(i)||e(i)){if(i=this.parseDate(i),t.isFunction(n)&&n.call(this.$element,i)===!1)return;this.date=i,this.viewDate=new Date(i),a||this.pick(),this.isBuilt&&this.fillAll()}},setStartDate:function(t){(s(t)||e(t))&&(this.startDate=this.parseDate(t),this.isBuilt&&this.fillAll())},setEndDate:function(t){(s(t)||e(t))&&(this.endDate=this.parseDate(t),this.isBuilt&&this.fillAll())},parseDate:function(t){var i,a,n,r,h,o,l,d,u=this.format,c=[];if(s(t))return new Date(t);if(e(t)&&(c=t.match(b)||[]),t=new Date,a=t.getFullYear(),n=t.getDate(),r=t.getMonth(),h=t.getHours(),o=t.getMinutes(),i=u.parts.length,c.length===i)for(d=0;i>d;d++)switch(l=parseInt(c[d],10)||0,u.parts[d]){case"dd":case"d":n=l;break;case"mm":case"m":r=l-1;break;case"yy":a=2e3+l;break;case"yyyy":a=l;break;case"h":case"hh":h=l;break;case"M":case"MM":o=l}return new Date(a,r,n,h,o)},formatDate:function(t){var e,i,a,n,r,h=this.format,o="";if(s(t))for(o=h.source,i=t.getFullYear(),n={d:t.getDate(),m:t.getMonth()+1,yy:i.toString().substring(2),yyyy:i,h:t.getHours(),M:t.getMinutes()},n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,n.hh=(n.h<10?"0":"")+n.h,n.MM=(n.M<10?"0":"")+n.M,e=h.parts.length,r=0;e>r;r++)a=h.parts[r],o=o.replace(a,n[a]);return o},destroy:function(){this.unbind(),this.unbuild(),this.$element.removeData(f)}},d.LANGUAGES={},d.DEFAULTS={autoshow:!1,autohide:!1,autopick:!1,inline:!1,container:null,trigger:null,language:"",format:"dd/mm/yyyy hh:MM",date:null,startDate:null,endDate:null,startView:0,weekStart:0,yearFirst:!1,yearSuffix:"",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],itemTag:"li",mutedClass:"muted",pickedClass:"picked",disabledClass:"disabled",template:'<div class="datepicker-container"><div class="datepicker-panel" data-view="years picker"><ul><li data-view="years prev">&lsaquo;</li><li data-view="years current"></li><li data-view="years next">&rsaquo;</li></ul><ul data-view="years"></ul></div><div class="datepicker-panel" data-view="months picker"><ul><li data-view="year prev">&lsaquo;</li><li data-view="year current"></li><li data-view="year next">&rsaquo;</li></ul><ul data-view="months"></ul></div><div class="datepicker-panel" data-view="days picker"><div data-time-wrapper><input type="text" pattern="[0-9]*" data-hours min=0 max=23 value="00" /><span data-colon>:</span><input type="text" pattern="[0-9]*" data-minutes min=0 max=59 step=5 value="00" /></div><ul><li data-view="month prev">&lsaquo;</li><li data-view="month current"></li><li data-view="month next">&rsaquo;</li></ul><ul data-view="week"></ul><ul data-view="days"></ul></div></div>',offset:10,zIndex:1,filter:null,show:null,hide:null,pick:null,readonly:!0},d.setDefaults=function(e){t.extend(d.DEFAULTS,t.isPlainObject(e)&&e)},d.other=t.fn.datepicker,t.fn.datepicker=function(i){var s,r=n(arguments,1);return this.each(function(){var a,n,h=t(this),o=h.data(f);if(!o){if(/destroy/.test(i))return;a=t.extend({},h.data(),t.isPlainObject(i)&&i),h.data(f,o=new d(this,a))}e(i)&&t.isFunction(n=o[i])&&(s=n.apply(o,r))}),a(s)?this:s},t.fn.datepicker.Constructor=d,t.fn.datepicker.languages=d.LANGUAGES,t.fn.datepicker.setDefaults=d.setDefaults,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d.other,this}});